<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MobiWorld Dashboard</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="\css\admin css\dashboard.css">
    <link href="https://unpkg.com/cropperjs@1.5.12/dist/cropper.min.css" rel="stylesheet">
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="logo">mobiworld</div>
        <ul class="nav flex-column">
            <li class="nav-item">
                <a id="dashboard" class="nav-link" href="/admin/dashboard">
                    <i class="fas fa-th-large"></i> Dashboard
                </a>
            </li>
            <li class="nav-item">
                <a id="SalesReport" class="nav-link" href="/admin/SalesReport">
                    <i class="fas fa-th-large"></i> SalesReport
                </a>
            </li>
            <li class="nav-item">
                <a id="product" class="nav-link" href="/admin/product">
                    <i class="fas fa-box"></i> Product
                </a>
            </li>
            <li class="nav-item ">
                <a id="orders" class="nav-link" href="/admin/orders">
                    <i class="fas fa-shopping-cart"></i> Orders
                </a>
            </li>
            <li class="nav-item">
                <a onclick="" id="users" class="nav-link" href="/admin/users">
                    <i class="fas fa-users"></i> Users
                </a>
            </li>
            <li class="nav-item">
                <a id="category" class="nav-link" href="/admin/Category">
                    <i class="fas fa-tags"></i> Category
                </a>
            </li>
            <li class="nav-item">
                <a id="brands" class="nav-link" href="/admin/brands">
                    <i class="fas fa-tags"></i> Brands
                </a>
            </li>
            <li class="nav-item ">
                <a id="Offers" class="nav-link" href="/admin/offersPage">
                    <i class="fas fa-gift"></i> Offers
                </a>
            </li>
            <!-- <li class="nav-item ">
                <a class="nav-link" href="#">
                    <i class="fas fa-cog"></i> Settings
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">
                    <i class="fas fa-bullhorn"></i> Banner
                </a>
            </li> -->
            <li class="nav-item">
                <a id="coupon" class="nav-link" href="/admin/couponPage">
                    <i class="fas fa-ticket-alt"></i> Coupons
                </a>
            </li>
            <li class="nav-item ">
                <a class="nav-link logout-btn" onclick="logout()" href="/admin/logout">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </a>
            </li>
        </ul>
    </div>

    Main Content -->
    <<div class="main-content ">
        <div class="dashboard-header d-flex justify-content-between align-items-center">
            <h2>Dashboard</h2>
            <!-- <button class="btn btn-lg btn-danger me-3" >Logout</button> -->
        </div> 


        <script>
        //       function change(){
        //     const users = document.getElementById('product')
        //     // const dashboard = document.getElementById('dashboard')
        //     users.style.color = "white"
        //     users.style.backgroundColor = "#252830"
        //     users.style.borderColor = "#333"
        //     dashboard.style.backgroundColor = "#1e1e1e"
        //     dashboard.style.color = "#adb5bd"
          
        // }
        // document.addEventListener('DOMContentLoaded',function(event){
        //     event.preventDefault()
        //     change()
        //     // window.location.href('/admin/users')
        // })

        // const boxes = document.querySelectorAll('.nav-link');
        // boxes.forEach(navLink => {
        //     navLink.addEventListener('click', (event) => {
        //         event.preventDefault()
        //         console.log('hi')
        //         // Remove active class from all boxes
        //         boxes.forEach(b => b.classList.remove('active'));
        //         // Add active class to the clicked box
        //         navLink.classList.add('active');
        //         const href = navLink.getAttribute('href');
        //         console.log(href)
        //         setTimeout(() => {
        //             window.location.href = href
        //         }, 1000);
               
        //     });
        // });


        // Apply the active class on page load based on localStorage
        document.addEventListener('DOMContentLoaded', () => {
            const activeLinkId = localStorage.getItem('activeLinkId');
            if (activeLinkId) {
                const activeLink = document.getElementById(activeLinkId);
                if (activeLink) {
                    activeLink.classList.add('active');
                }
            }
        });

        const boxes = document.querySelectorAll('.nav-link');
        boxes.forEach(navLink => {
            navLink.addEventListener('click', (event) => {
                event.preventDefault();
                console.log('hi');
                // Remove active class from all boxes
                boxes.forEach(b => b.classList.remove('active'));
                // Add active class to the clicked box
                navLink.classList.add('active');
                // Save the active link id in localStorage
                const activeLinkId = navLink.getAttribute('id');
                localStorage.setItem('activeLinkId', activeLinkId);
                // Navigate to the URL specified in the href attribute
                const href = navLink.getAttribute('href');
                console.log(href);
                // Delay navigation to ensure active class is applied
               
                    window.location.href = href;
                 // 100 milliseconds delay
            });
        });


        </script>
